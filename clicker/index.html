<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clicker Game</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #1e1e2f;
    color: #f0f0f0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}

h1 { margin-bottom: 10px; color: #ffd700; }

#score { font-size: 48px; margin: 10px 0; }
#sps { font-size: 16px; margin: 5px 0; }
#message { font-size: 20px; margin: 10px 0; color: #ffeb3b; }

button {
    padding: 12px 25px;
    font-size: 18px;
    margin: 10px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.2s;
    max-width: 90%;
}

#clickButton { background: #4CAF50; color: white; }
#clickButton:hover { background: #43a047; }

.upgrade { background: #ff9800; color: white; display: block; width: 350px; max-width: 90%; margin: 10px auto; }
.upgrade:hover { background: #e68a00; }

.disabled { background: #bdbdbd !important; cursor: not-allowed; }

#backButton {
    background: #2196F3;
    color: white;
}
#backButton:hover {
    background: #1976D2;
}
</style>
</head>
<body>

<h1>Clicker Game - Goal 1M</h1>

<div id="score">0</div>
<div id="sps">Auto SPS: 0<br>Click CPS: 0<br>Total SPS: 0</div>
<div id="message"></div>

<button id="clickButton">CLICK ME!</button>

<h2>Click Upgrades</h2>
<button class="upgrade" id="upgradeClick">Upgrade Click Power (Cost: 20)</button>

<h2>Auto-Clicker Upgrades</h2>
<button class="upgrade" id="autoClicker">Buy Auto Clicker (Cost: 50)</button>

<button id="backButton">â¬… Back to Hub</button>

<script>
/* ================== VARIABLES ================== */
let score = 0;
let clickPower = 1, clickUpgradeCost = 20;
let clickCount = 0, clickSPS = 0;
let autoClickers = 0, autoClickerCost = 50;
let autoBasePower = 3; 
let autoComboMultiplier = 1;
const goalScore = 1000000; // 1M

/* ================== UI ELEMENTS ================== */
const scoreDisplay = document.getElementById("score");
const spsDisplay = document.getElementById("sps");
const messageDisplay = document.getElementById("message");

const clickBtn = document.getElementById("clickButton");
const upgradeClickBtn = document.getElementById("upgradeClick");
const autoBtn = document.getElementById("autoClicker");
const backBtn = document.getElementById("backButton");

backBtn.addEventListener("click", () => {
    window.location.href = "../index.html"; // adjust path to your hub
});

/* ================== CLICKING ================== */
clickBtn.addEventListener("click", ()=>{
    if(score >= goalScore) return;
    clickCount++;
    score += clickPower;

    // click animation
    scoreDisplay.style.transform = "scale(1.2)";
    setTimeout(()=>{ scoreDisplay.style.transform = "scale(1)"; }, 100);

    checkGoal();
    update();
});

/* ================== UPGRADES ================== */
upgradeClickBtn.addEventListener("click", ()=>{
    if(score >= clickUpgradeCost && score < goalScore){
        score -= clickUpgradeCost;
        clickPower *= 2; // double click power
        clickUpgradeCost = Math.floor(clickUpgradeCost*2); // cost scales
        upgradeClickBtn.textContent=`Upgrade Click Power (Cost: ${clickUpgradeCost})`;
        update();
    }
});

autoBtn.addEventListener("click", ()=>{
    if(score >= autoClickerCost && score < goalScore){
        score -= autoClickerCost;
        autoClickers++;
        autoComboMultiplier = 1 + autoClickers*0.15;
        autoClickerCost = Math.floor(autoClickerCost*2);
        autoBtn.textContent=`Upgrade Auto Clicker (Cost: ${autoClickerCost})`;
        update();
    }
});

/* ================== AUTO CLICKER LOOP ================== */
setInterval(()=>{
    clickSPS = clickCount;
    clickCount = 0;

    if(score >= goalScore) return;

    let autoGain = autoClickers * autoBasePower * (1 + autoComboMultiplier*0.15);
    score += autoGain;

    checkGoal();
    update();
},1000);

/* ================== GOAL CHECK ================== */
function checkGoal(){
    if(score >= goalScore){
        score = goalScore;
        messageDisplay.textContent = "ðŸŒ¿ Touch some grass! ðŸŒ¿";
    }
}

/* ================== UI UPDATE ================== */
function update(){
    scoreDisplay.textContent = Math.floor(score);
    let autoSPS = autoClickers*autoBasePower*(1+autoComboMultiplier*0.15);
    let totalSPS = autoSPS + clickSPS;
    spsDisplay.innerHTML = "Auto SPS: "+Math.floor(autoSPS)+"<br>Click CPS: "+clickSPS+"<br>Total SPS: "+Math.floor(totalSPS);

    function dis(btn, cond){ btn.classList.toggle("disabled", cond); }
    dis(upgradeClickBtn, score < clickUpgradeCost || score >= goalScore);
    dis(autoBtn, score < autoClickerCost || score >= goalScore);
}
</script>
</body>
</html>
